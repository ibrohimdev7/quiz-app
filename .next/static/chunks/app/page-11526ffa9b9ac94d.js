(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6361:(e,t,r)=>{Promise.resolve().then(r.bind(r,4713)),Promise.resolve().then(r.bind(r,6067))},4713:(e,t,r)=>{"use strict";r.d(t,{GameContainer:()=>k});var s=r(5155),l=r(2115),a=r(1567);let n=l.forwardRef((e,t)=>{let{className:r,type:l,...n}=e;return(0,s.jsx)("input",{type:l,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...n})});n.displayName="Input";var o=r(3312);let i=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...l})});function c(e){let{onSubmit:t,players:r}=e,[a,c]=(0,l.useState)(""),[d,u]=(0,l.useState)("");return(0,s.jsxs)(i,{className:"max-w-md mx-auto p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-center mb-6",children:"Enter Your Name"}),(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!a.trim()){u("Please enter your name");return}t(a.trim())},className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(n,{type:"text",value:a,onChange:e=>{c(e.target.value),u("")},placeholder:"Your name",className:"w-full"}),d&&(0,s.jsx)("p",{className:"text-destructive text-sm mt-1",children:d})]}),(0,s.jsx)(o.$,{type:"submit",className:"w-full",children:"Start Game"})]})]})}i.displayName="Card",l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...l})}).displayName="CardHeader",l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...l})}).displayName="CardTitle",l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...l})}).displayName="CardDescription",l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...l})}).displayName="CardContent",l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...l})}).displayName="CardFooter";let d=e=>e[Math.floor(Math.random()*e.length)],u=(e,t)=>{let r=[e],s=new Set;for(;r.length<4;){var l,a;let e=Math.floor(Math.random()*t.length),n=null===(a=t[e])||void 0===a?void 0:null===(l=a.capital)||void 0===l?void 0:l[0];s.has(e)||!n||r.includes(n)||(r.push(n),s.add(e))}return m(r)},m=e=>{let t=[...e];for(let e=t.length-1;e>0;e--){let r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t},f=e=>10===e?"You're a Geography Genius! \uD83C\uDFC6":e>=8?"Outstanding Performance! \uD83C\uDF1F":e>=6?"Well Done! \uD83D\uDC4F":e>=4?"Good Try! Keep Learning! \uD83D\uDCDA":"Practice Makes Perfect! \uD83D\uDCAA";var x=r(9177);let h=l.forwardRef((e,t)=>{let{className:r,count:l,...n}=e;return(0,s.jsx)(x.bL,{ref:t,className:(0,a.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...n,children:(0,s.jsx)(x.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(l||0),"%)")}})})});h.displayName=x.bL.displayName;var p=r(5565);function b(e){var t,r,a;let{countries:n=[],onGameComplete:c,onRestart:m}=e,[x,b]=(0,l.useState)({currentRound:1,score:0,timeLeft:15,selectedAnswer:null,correctAnswer:"",options:[],currentCountry:null,isRoundComplete:!1,gameComplete:!1}),g=(0,l.useCallback)(()=>{let e=d(n),t=e.capital[0],r=u(t,n);b(s=>({...s,timeLeft:15,selectedAnswer:null,correctAnswer:t,options:r,currentCountry:e,isRoundComplete:!1}))},[n]);(0,l.useEffect)(()=>{g()},[g]),(0,l.useEffect)(()=>{if(null==x?void 0:x.gameComplete)return;let e=setInterval(()=>{b(e=>e.isRoundComplete||e.timeLeft<=0?e:1===e.timeLeft?{...e,timeLeft:0,isRoundComplete:!0}:{...e,timeLeft:e.timeLeft-1})},1e3);return()=>clearInterval(e)},[x.gameComplete]);let v=e=>{if(x.isRoundComplete)return;let t=e===x.correctAnswer;b(r=>({...r,selectedAnswer:e,score:t?r.score+1:r.score,isRoundComplete:!0}))};return x.gameComplete?(0,s.jsxs)(i,{className:"text-center space-y-6 p-8",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Game Complete!"}),(0,s.jsxs)("p",{className:"text-2xl mb-4",children:["Final Score: ",x.score,"/10"]}),(0,s.jsx)("p",{className:"text-xl text-primary font-semibold",children:f(x.score)}),(0,s.jsxs)("div",{className:"space-x-4",children:[(0,s.jsx)(o.$,{onClick:()=>{b({currentRound:1,score:0,timeLeft:15,selectedAnswer:null,correctAnswer:"",options:[],currentCountry:null,isRoundComplete:!1,gameComplete:!1}),g()},children:"Play Again"}),(0,s.jsx)(o.$,{variant:"outline",onClick:m,children:"Change Player"})]})]}):(0,s.jsxs)(i,{className:"p-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("div",{children:(0,s.jsxs)("span",{className:"text-lg font-semibold",children:["Round ",x.currentRound,"/10"]})}),(0,s.jsx)("div",{children:(0,s.jsxs)("span",{className:"text-lg font-semibold",children:["Score: ",x.score]})})]}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsxs)("span",{children:["Time Left: ",null==x?void 0:x.timeLeft,"s"]}),(0,s.jsx)(h,{count:(null==x?void 0:x.timeLeft)/15*100})]})}),(null==x?void 0:x.currentCountry)?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,s.jsx)(p.default,{src:(null==x?void 0:null===(r=x.currentCountry)||void 0===r?void 0:null===(t=r.flags)||void 0===t?void 0:t.png)||"",alt:"Country Flag",className:"h-auto shadow-md rounded",width:192,height:192,priority:!0}),(0,s.jsx)("h3",{className:"text-xl font-semibold",children:x.currentCountry.name.common})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-4",children:null==x?void 0:null===(a=x.options)||void 0===a?void 0:a.map(e=>{let t="outline";return x.isRoundComplete&&(e===x.correctAnswer?t="secondary":e===x.selectedAnswer&&(t="destructive")),(0,s.jsx)(o.$,{onClick:()=>v(e),disabled:x.isRoundComplete,variant:t,className:"h-16 text-lg",children:e},e)})}),x.isRoundComplete?(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)(o.$,{onClick:()=>{if(10===x.currentRound){b(e=>({...e,gameComplete:!0})),c(x.score);return}b(e=>({...e,currentRound:e.currentRound+1})),g()},className:"mt-4",children:10===x.currentRound?"Finish Game":"Next Question"})}):null]}):null]})}let g=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,a.cn)("w-full caption-bottom text-sm",r),...l})})});g.displayName="Table";let v=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("thead",{ref:t,className:(0,a.cn)("[&_tr]:border-b",r),...l})});v.displayName="TableHeader";let j=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,a.cn)("[&_tr:last-child]:border-0",r),...l})});j.displayName="TableBody",l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,a.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...l})}).displayName="TableFooter";let N=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("tr",{ref:t,className:(0,a.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...l})});N.displayName="TableRow";let y=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("th",{ref:t,className:(0,a.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...l})});y.displayName="TableHead";let w=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("td",{ref:t,className:(0,a.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...l})});function C(e){let{players:t}=e,r=[...t].sort((e,t)=>t.bestScore-e.bestScore);return(0,s.jsxs)(i,{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-center mb-6",children:"Leaderboard"}),(0,s.jsxs)(g,{children:[(0,s.jsx)(v,{children:(0,s.jsxs)(N,{children:[(0,s.jsx)(y,{className:"w-12",children:"Rank"}),(0,s.jsx)(y,{children:"Player"}),(0,s.jsx)(y,{className:"text-right",children:"Best Score"})]})}),(0,s.jsx)(j,{children:r.map((e,t)=>(0,s.jsxs)(N,{children:[(0,s.jsx)(w,{className:"font-medium",children:t+1}),(0,s.jsx)(w,{children:e.name}),(0,s.jsxs)(w,{className:"text-right",children:[e.bestScore,"/10"]})]},e.name))})]}),0===t.length&&(0,s.jsx)("p",{className:"text-center text-muted-foreground mt-4",children:"No players yet. Be the first to play!"})]})}function R(e,t){let[r,s]=(0,l.useState)(()=>{try{let r=window.localStorage.getItem(e);return r?JSON.parse(r):t}catch(e){return console.log(e),t}});return[r,t=>{try{let l=t instanceof Function?t(r):t;s(l),window.localStorage.setItem(e,JSON.stringify(l))}catch(e){console.log(e)}}]}function k(){let[e,t]=(0,l.useState)([]),[r,a]=R("quiz-players",[]),[n,i]=R("current-player",""),[d,u]=(0,l.useState)(!1),[m,f]=(0,l.useState)(!0),[x,h]=(0,l.useState)("");(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("https://restcountries.com/v3.1/all");if(!e.ok)throw Error("Failed to fetch countries");let r=await e.json();t(r.filter(e=>{var t;return null===(t=e.capital)||void 0===t?void 0:t[0]})),f(!1)}catch(e){h("Failed to load countries. Please try again later."),f(!1)}})()},[]);let p=()=>{i("")};return m?(0,s.jsx)("div",{className:"flex justify-center items-center min-h-[50vh]",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):x?(0,s.jsxs)("div",{className:"text-center text-destructive p-4",children:[(0,s.jsx)("p",{children:x}),(0,s.jsx)(o.$,{onClick:()=>window.location.reload(),className:"mt-4",children:"Retry"})]}):d?(0,s.jsxs)("div",{children:[(0,s.jsx)(C,{players:r}),(0,s.jsx)(o.$,{onClick:()=>u(!1),className:"mt-4 mx-auto block",children:"Back to Game"})]}):n?(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold",children:["Player: ",n]}),(0,s.jsx)(o.$,{variant:"outline",size:"sm",onClick:p,children:"Logout"})]}),(0,s.jsx)(o.$,{onClick:()=>u(!0),children:"View Leaderboard"})]}),(0,s.jsx)(b,{countries:e||[],onGameComplete:e=>{a(t=>{let r=t.findIndex(e=>e.name===n);if(-1===r)return[...t,{name:n,bestScore:e}];let s=[...t];return e>s[r].bestScore&&(s[r].bestScore=e),s})},onRestart:p})]}):(0,s.jsx)(c,{onSubmit:i,players:r})}w.displayName="TableCell",l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("caption",{ref:t,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",r),...l})}).displayName="TableCaption"},6067:(e,t,r)=>{"use strict";r.d(t,{ThemeToggle:()=>i});var s=r(5155);r(2115);var l=r(6535),a=r(8482),n=r(7113),o=r(3312);function i(){let{theme:e,setTheme:t}=(0,n.D)();return(0,s.jsxs)(o.$,{variant:"ghost",size:"icon",onClick:()=>t("light"===e?"dark":"light"),children:[(0,s.jsx)(l.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,s.jsx)(a.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}},3312:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var s=r(5155),l=r(2115),a=r(1290),n=r(1027),o=r(1567);let i=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-green-500 text-white hover:bg-green-500/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=l.forwardRef((e,t)=>{let{className:r,variant:l,size:n,asChild:c=!1,...d}=e,u=c?a.DX:"button";return(0,s.jsx)(u,{className:(0,o.cn)(i({variant:l,size:n,className:r})),ref:t,...d})});c.displayName="Button"},1567:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var s=r(3463),l=r(9795);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,l.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[292,441,517,358],()=>t(6361)),_N_E=e.O()}]);